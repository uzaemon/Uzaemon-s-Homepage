---
layout: default
title: History
description: This is just another page
---

<font color="green">2023/08/24</font>

@niftyのWebサーバーからGitHubのPagesに移行しました。

内容はそのままですが、主要ページをhtml⇒markdownに書き換えたり、htmlの文字コードをシフトJIS⇒UTF-8に変換したりと、結構手間ですね...

---

<font color="green">2016/09/28</font>

@niftyのWebサーバーサービス移行に伴い、ホームページを移動しました。

10月から環境が変わり、またこちらを更新できるようになるかもしれません。

---

<font color="green">2011/08/14</font>

なんと1年9ヶ月振りの更新です。BBSにCRTCSVFのバグ(30桁以上のパック/ゾーン十進数を変換しない)が報告されたので更新しました。バージョンは2-15になります。

個人的な状況(プライベートも含めたもろもろ)はここ数年悪くなる一方ですが、何とかやっています。

3/11の被災地である実家に先日まで帰っていました。近しい方や家・財産を失った方がそれでも復興に向けて努力されているのは本当に頭が下がります。ボランティアの方や警察(何故か大阪府警が多い?)など応援の方もたくさんいらっしゃいました。東京にいると原発の話題が多いですが、向こうのテレビでは朝から晩まで復興の話題がほとんどで、ちょっと温度差を感じました。「セシウムさん」、「高田松原 大文字」騒動や政治のごたごたを見てるとそれだけで疲れてしまいますね。

次回は明るい書き込みができますように。

---

<font color="green">2009/11/14</font>

昔のBBSの過去ログを参照可能にしました。キーワード検索などはできませんが、それほどトピックが多いわけではないので、ブラウザの検索機能で足りるかと思います。~~新しい話題はこちらのBBSにお願いします。~~

テキスト形式で保管してあったので、VBSを書いてHTMLに変換しました。リストなどで形式がくずれている部分がありますがご容赦ください。

周りの状況も変わり、昔のようにプログラムを書く時間(余裕)がありません。また、[Info-ZIP](http://www.info-zip.org/)のポーティングとか、CRTCSVFの[POI](http://poi.apache.org/)版とか、これまでの延長線上の物だと食指が動かないです。

これまでオープンソース物の移植などでIBM i のオープンさを実証してきましたが、今時オープンは当たり前なので、IBM
i 独自の「何か」を実現したいと思う今日この頃です。

---

<font color="green">2008/09/14</font>

「Easy Steps to Internet Programming for AS/400, iSeries, and System i」の[紹介ページ](iptu/index.md)を更新しました。

サンプルプログラムのソースなど、内容の一部を公開しましたので興味のある方には参考になるかもしれません。
他の部分もぼちぼち更新したいと思いますので、~~もしご意見やリクエストなどあればフォーラムでお知らせ下さい。~~

---

<font color="green">2008/03/23</font>

本を書きました。(永かった...)

題名は「Easy Steps to Internet Programming for AS/400, iSeries, and System i」です。詳細は[別ページ](iptu/index.md)でどうぞ。添付のサンプルやツール類はV5R4まではそこそこ動くと思うのですが、V6R1はSQL CLIやApache APIに変更が入っているのでperl DBIやTomcatは影響をうけそうです。余裕があればテストしたいのですが、例によってなかなか...

今年から乗換えをしたフリーのBBSサービスですが、3月くらいから広告付きになってしまいました。個人的に自分のコントロールできない内容が表示されるのは避けたいので、いずれ別のBBSに変えたいと思ってます。

---

<font color="green">2005/05/27</font>

今回はプログラムの更新はありません。(^-^;)

気がつけば一年以上更新していませんでした。いろいろやりたい事や掲載するネタはあるのですが、いかんせん仕事と家庭でこちらを更新する時間がほとんど取れません。

**やりたい事リスト(覚書)**

- zlibのファイルサイズ制限を無くす。([InfoZIPの新バージョン](http://www.info-zip.org/pub/infozip/Zip.html#Future)待ち)
- CRTCSVFにOPNQRYFの機能(フィールド選択、ソートなど)を追加
- Analog最新版の移植(というより動作確認)
- Java関連ツールのOS/400での活用(iText、POIなど)
- [Easy400](http://www-922.ibm.com/en?)で提供しているCGIDEV2のDBCS(日本語)対応パッチ作成

未だに自分のマシンはV5R2のままだし、困ったものです。

---

<font color="green">2004/05/23</font>

SPL2STMFがV5R2のある時点からエラーを起こすようになったので簡単な修正を加えました。原因は
[http://publib.boulder.ibm.com/iseries/v5r2/ic2924/info/apis/QWPZHPTR.htm](http://publib.boulder.ibm.com/iseries/v5r2/ic2924/info/apis/QWPZHPTR.htm) にあるように、&quot;Option Specific Input Information&quot;の273～290バイト目に必須パラメーターが追加されたためです。通常APIは上位互換を維持するはずなのですが、これは例外(?)的にこれまでのコーディングでは動かなくなる仕様変更のようです。バージョンは0-04にしました。

合わせてページサイズ、用紙方向、マージン指定をできるようにしたTIFF2PDFの最新版を公開します。特にバージョンはつけていませんが、TIFFLIB/TIFF2PDF(TIFF2PDFC)の25行目に「2004/01/25 add paper size parameters.」と記載しています。なお、ページサイズを大きくしても元のTIFFファイルの拡大/縮小率が変わるだけであり、印刷品質(DPI)はHPT(WSCST)に依存するのであまり意味はありません。

すでに回りにV4R5のマシンがないため、V4R5形式でSAVFを作成しています。ただしV5R2(TL03364)でしかテストしていませんので、これ以前のバージョンで動くかどうかは判りませんし、追試をすることもできません。稼動報告をしてもらえると他の方の参考になりますので、V5R1以前で使用している方はご報告よろしくお願いします。i5で稼動するかはいずれ時間ができた時に試してみようと思っています。

---

<font color="green">2004/02/01</font>

久しぶりに数日ほど時間がとれましたのでいくつかのツールを更新しています。

まずは[zlib](http://www.gzip.org/zlib/)の最新版 1.2.1 を公開します。これまで公開していた 1.1.3 にセキュリティ・ホールがあり、早めに新しいリリース(1.1.4)にしなくてはと思っていました。ところが、[メーリングリスト](http://xenon.nocdirect.com/pipermail/zlib-devel_madler.net/)を見ると zlib 本体が1.2へ、contribの[minizip/miniunz](http://www.winimage.com/zLibDll/unzip.html)が近々1.0になりそうだということで、しばらく待ちに入っていました。

昨年末に最新バージョンが正式にリリースされましたので、OS/400版も合わせて更新しました。単に1.2.1 に移植するだけであれば簡単(ほぼリコンパイルのみ)なのですが、今回はOS/400のネイティブ・インターフェース、つまりコマンドとしても実装しました。名前はZIP、UNZIP、DSPZIP とし、必要な場合(上書きの確認など)以外はDSM(Qshellのような)画面を出さないようにしてあります。また、簡単ながらZIPファイルにパスワードを指定できるようになりましたので、重要では無いがちょっとセキュリティをかけておきたい場合に使えるでしょう。

一応V3R2形式でSAVFを作成していますが、これまでと同様にV5R1以前で動くかどうかは判りませんのであしからず。

また時間がとれればTIFF2PDF(ページサイズ、用紙方向、マージン指定)とCRTCSVF(レコード/フィールド選択、ソート指定、フィールドの特殊処理)の機能強化版も公開したいと考えていますので、興味のある方はたまにご訪問下さい。(^-^)／

---

<font color="green">2003/05/18</font>

一年ぶりの更新です。(^-^:)　家庭・個人・仕事などでこちらに割く時間がほとんど取れませんでした。それでも何とかBBSに書き込み(ほとんどは質問)があった時は対応するようにしていました。このBBSですが、700発言くらいになったら廃止しようかと考えています。何せ検索機能も無い低機能な掲示板のため、重複したQ&amp;Aが多くなっていますし(FAQを作れというのは勘弁してください)、いつまで@Niftyを使うかも判りませんので。

さて、本題です。

SNDMのバージョンを1.36にし、添付ファイルのヘッダーにContent-Dispositionヘッダーを追加しました(メンバー#GENの281～286行)。どうもこれが無いとJavaMailが正統なMIMEメールとして扱ってくれないようです。

また、SNDMの対になる(?)RCVMコマンドを追加しました。中身はJavaMailを使ったJavaのプログラムをCLから呼び出すものです。それなりにテストはしたのですが、何せ世の中には星の数ほどMUA(メール･クライアント)があるので、問題がたくさん出ることは目に見えています。ということで、当分β扱いですね。

それではまた来年 (^o^;)ゞ

---

<font color="green">2002/05/06</font>

SNDMを下記のように更新し、バージョンを1.35にしました。今回はテストが出来ていませんので、前のバージョン(1.34)もしばらく残しておきます。

- メールヘッダー中のMIME boundaryの書式変更(&quot;boundary&quot;と&quot;=&quot;と境界文字列の間の空白を除去。)
- メールアドレスの記述中の特殊文字(especials、( ) &lt; &gt; @ , ; : &quot; / [ ] ? . = )チェックを廃止し、利用可能に変更
- DBFCCSIDパラメーターの初期値を&quot;*DFTJOBCCSID&quot;に再度変更
- コマンドヘルプのテキスト更新

---

<font color="green">2002/02/03</font>

ホームページを下記のように多少変更しました。

- Perlの導入手順にDBIのパッチの方法を追加。なお、Perl for AS/400で日本語は扱かうのはほぼ不可能です。
- Downloadセクションの記述の追加・修正。
- リンク切れの確認

---

<font color="green">2001/12/24</font>

今年はホームページの更新は2回しかできませんでした。いずれ時間ができればFAQとかも作りたいのですが、いつになることやら...

SNDMを多少修正し、バージョンを1-34としました。変更点は以下の2点です。

- SMTPセッションで使用するEBCDIC CRLF文字をX'4446'固定からvariant characterである&quot;￠￡&quot;に変更。これにより、コードページ297(フランス語)でCRが&quot;@&quot;として解釈されるバグが解消するはずです。
- 1390/1399を5026/5035と同等に扱うように変更。V5R1などでジョブのCCSID(もしくはQCCSID)が1399であっても日本語処理が可能となります。ただし、1390/1399で使用が認められた非JIS文字がSNDMで送信できるようになったわけではありません。また、1390の利用は特別な理由が無い限り避けるべきです。
- *DSTMF(/QNTC下の統合xSeriesサーバー共用オブジェクト)を添付ファイルとして送信できるようにしました。

CRTCSVFに下記機能を追加しました。バージョンは2-14です。

- 日付、時刻、タイムスタンプを変換できるようにしました。それぞれ次の様に変換されます。タイムスタンプ型はISOフォーマットと多少異なります(日付と時刻の間にハイフンがある)が、そのままにしてあります。

__DDSの定義__

```ruby
0001.00      A          R TEST
0002.00      A            DATE            L
0003.00      A            TIME            T
0004.00      A            TS              Z
```

__変換例__

<code>
&quot;2001/12/31&quot;,&quot;12:10:23&quot;,&quot;2001-12-31-12.10.23.111111&quot;<BR>
</code>
<code>
&quot;2001/01/31&quot;,&quot;01:02:03&quot;,&quot;2001-01-31-01.02.03.000000&quot;
</code>

それでは皆様、良いお年を。

---

<font color="green">2001/04/07</font>

SNDMにバグがあったので修正しました。バージョンは1-33です。

- JIS外字検出ロジックの訂正。

日本語を使用しないユーザーは更新する必要はありません(といってもここを読めませんね)。

---

<font color="green">2000/11/09</font>

SNDMに多少修正を加え、バージョンを1.32としました。修正点は以下の通り。

- 添付ファイルとしてフォルダー文書(共用フォルダー=/QDLS以下のファイル。タイプが*DOC)を使えるようにしました。
- 細かな修正(iconvでの変換後文字列長の取得をstrlen()を使うように変更、スペルミスの修正)。

念のため[以前のバージョン](smtp131.exe)も置いておきます。<FONT color="#ff0000">(2001/04/07 削除しました)</FONT>

あれから1年... 来週はもうiSUCですねぇ。札幌もあまり寒くなければよいのですが。

---

<font color="green">2000/09/15</font>

2ヶ月ぶりの更新です。

SNDMのバージョンを1.31とし、以降はこれを正式バージョンとします。修正点は以下の通り。

- 非US言語のコード変換処理を改善。ヨーロッパ圏言語(ドイツ語など)で「@」が正しく認識されない、ログ印刷出力で文字化けが発生するなどの現象を修正(1.30)
- 本文のエンコーディングがUS-ASCIIの場合に添付ファイルを指定すると正しいMIME boundaryが設定されない現象を修正(1.31)
- DBFCCSIDパラメーターの省略時の値を*DFTJOBCCSIDから*FILEに変更(1.31)

---

<font color="green">2000/07/20</font>

History(更新履歴)が長くなったので別文書とし、ついでにトップページのレイアウトを多少変更しました。

ソフトウェアの追加/更新の予定は当分ありませんが、BBSはちょくちょくのぞいていますので稼動報告をお待ちしています。

---

<font color="green">2000/06/24</font>

SNDMにヘルプ・ファイル(PNLGRP)を追加し、バージョンを1-21としました。また、解説を英語にしました。

そろそろサーバーの容量限界(10MB)に近づいてきたので、iSUCの資料は削除しました。

---

<font color="green">2000/06/17</font>

HTTPアクセスログ解析ツールである[Analog 4.11](http://www.analog.cx/)をDownloadセクションに追加しました。

Webサーバーを運営する上で、利用状況の把握/アップグレード計画の策定/メンテナンスプランの決定などの際にアクセスログ解析ツールを欠かすことはできません。AS/400の(確か)V4R3以降ではアクセスログの分析機能が提供されますが、[Analog](http://www.analog.cx/)はUNIX/PC/S390などにポーティングされている「もっともポピュラーなログ解析ツール」であり、AS/400の標準機能に対し、より多様で詳細なレポートを提供します。さらに、Analogはバッチ(コマンド・ライン)あるいは対話型(ブラウザ・インターフェース)で実行することが可能であり、柔軟な運用が可能です。

これで昨年の[iSUC](http://www.uken.or.jp/isuc/)で予告したツール群は全て公開が完了しましたので、当分メンテナンス(バグ取りと機能追加)のみを行うつもりです。~~こちらのツールを修正/機能追加された方は内容をBBSなどで公開なさるようお願いいたします。~~

---

<font color="green">2000/05/27</font>

しばらく更新をしていませんでしたが、[グラフィカル・アクセス・カウンター(Count-2.5)](http://www.muquit.com/muquit/software/Count/Count.html)を「Download」セクションに追加しました。

AS/400ではV4R2以降SSI(サーバー・サイド・インクルーズ)をサポートするので、テキスト・ベースのカウンターであれば簡単に追加できます。しかし、Webで良く見るグラフィカルなカウンターをAS/400で利用するには、AS/400上でイメージファイルを動的に生成する必要があるため難易度が高くなります。Webで(おそらく)最もポピュラーな[Count-2.5](http://www.muquit.com/muquit/software/Count/Count.html)のAS/400版を公開しますので興味のある方はご利用下さい。後はAnalog 4.1を再ポーティングすれば一区切りつきます。

---

<font color="green">2000/03/25</font>

CRTCSVFコマンドのADDINFパラメーター「*FLDNAM」または「*COLHDG」が認識されないというバグがあったので修正しました。バージョンは2-12になります。また、「Download」セクションでSNDM関連のリンクが一部切れていたので、これを修正するとともにテーブルで組みなおしました。

AFP印刷を行うアプリケーションをツール無しでやろうとすると、デザイン(通常は絶対座標を指定する必要がある)が結構面倒です。試したことはありませんが、APWのAFP出力フィーチャー(APSUの有料追加フィーチャー)を使ったほうが簡単かもしれません。

「Documents」セクションに行/桁で座標を自動計算するプロシージャーを使った[AFP印刷アプリケーションの例](afpprt.md)をご紹介しますので、ご自分でAFP帳票の設計をなさる方には参考になるかもしれません。このアプリケーションで生成されたPDFも合わせて掲載しますので、バーコードリーダーをお持ちの方はご自分の環境で読み込めるかお試しください。~~結果はBBSの方にバーコードのタイプ/出力環境(OSとAcrobat Readerのバージョン)/プリンター機種/バーコードリーダー機種をご報告下さると参考になります。~~

---

<font color="green">2000/03/20</font>

ここの更新も2ヶ月ぶりになります... いまだ体調回復せず、困ったものです。

[iSUC](http://www.uken.or.jp/isuc/)のホームページが更新されていますが、このホームページに掲載しているツールをご紹介したセッション(32-3J)がかなり専門的/高度な内容であるにもかかわらず、「[人気セッション20](http://www.uken.or.jp/isuc/10sesrank.htm)」に入っていました。AS/400ユーザーのこの分野への関心の高さを示しているように思えます。

一部(3名ほど?)からご要望のあったPDF生成ツールを公開します。AFP2PDFという名前にしようと思っていたのですが、処理内部で使用しているスプールファイル→ストリームファイル変換部(RPGLEによる独自開発)を「SPL2STMF」として別個のコマンドにしました。PDFを生成する部分(UNIX-Cの移植)は「TIFF2PDF」コマンドにまとめました。いずれもSAVOBJコマンドでSAVFに保管し、PC上で圧縮したものですので、これまでのツールと同様の手順で解凍→AS/400のSAVFへ転送→RSTOBJ→REXXでMAKEしてください。オブジェクトの公開を優先しており、まだ導入/使用法などのドキュメントに十分に手がまわっていません。~~不明な点はBBSに書き込みすればだれかが答えてくれるかもしれません。~~

SENDMコマンドを多少修正(1.10→1.20)して名前を「SNDM」に変えました。CCSID関連のパラメーターを追加し、いくつかのコーディング変更がされていますので、今後は1.20をご利用下さい。こちらはドキュメントの更新が間に合っておりませんがあしからず。

---

<font color="green">2000/01/20</font>

ほぼ一ヶ月ぶりの更新です。2000年対応の変則勤務のせい(本当か?)で体調をくずし、しばらく伏せっておりました。

予定にはありませんでしたが「Download」セクションにCRTCSVFというツール(コマンド)を掲載しました。機能などについては[usage](crtcsvf_usage.md)をご覧ください。SENDMコマンドにも多少修正を行っているので、そのうち新しいバージョンをリリースします。

BBSに書き込みがありましたが、AFP2PDFを利用するには名前のとおりAFPスプールファイルの出力が生成できる環境が無くてはなりません。AFPスプールの生成についてはいくつか考慮点があります(例えば日本語を出力する場合はDBCSフォントを購入する必要がある、など)ので、これまでに使ったことの無い方は今のうちにAFPの基礎をstudyすることをお勧めします。

---

<font color="green">99/12/24</font>

相変わらず時間が取れません...今年中に他のツールを掲載するのは無理そうです。

「Documents」セクションを新設し、[Midrange Computing Magazine](http://www.midrangecomputing.com/mc/)1999年4月号の記事「[How It All Began](http://www.midrangecomputing.com/mc/articles/9904Evans2.pdf)」を[翻訳したもの](HowItAllBeganJ.html)を掲載しました。ほとんど直訳ですが、ご容赦を。AS/400の歴史についてはソルティス氏の「[Inside the AS/400](http://www.ibm.co.jp/as400/inside400/index.html)」でも触れられていますが、こちらの記事も楽しめる内容になっています。

---

<font color="green">99/12/07</font>

最近忙しくて更新が滞っていましたが、何とか[zlib](http://www.cdrom.com/pub/infozip/zlib/)(AS/400用のZIP-ファイルの圧縮/展開ユーティリティー)を「Download」セクションに追加しました。詳細はドキュメント(あるいはソースコード)を見ていただきたいのですが、~~もし私が書いたドキュメント中の英文で誤った表現やスペルミスなどありましたら>BBS</A>でご指摘下さると非常に助かります。~~

---

<font color="green">99/11/22</font>

SENDM(バージョン1.10)を公開しました。AS/400のコマンドラインから日本語インターネットメールを送信することができます。概略は次の通りですので、詳細をドキュメントを参照してご利用ください。

- メールサーバー(SMTPのみ。POP3は不要)がAS/400からアクセスできることをpingやtelnetで確認しておく
- ソースファイル(日本語の場合はCCSID5035を推奨)に本文を作っておく
- コマンドを実行するとメールが送信される

---

<font color="green">99/11/20</font>

とりあえずSENDM(バージョン1.10)を近日中に公開しますので、「Download」セクションをご覧ください。 ものはできているので、後はライセンスを追加しなくては...公開用にいろいろいじったのですが、本格的なテストはしていません。

オブジェクトはV3R7M0以降で復元できるはずですが、基本的にV4が必要と思ってください。コンパイルにはILE-RPGおよびQSYSINCライブラリーが必要です。V3R2/6以前のバージョンではRPGコンパイラの機能が足りないためコンパイルできません。V3R7はテストしてませんが、運が良ければ動くかもしれません。

~~ご意見はBBSにどうぞ。~~

---

<font color="green">99/11/18</font>

愛想の無いページですがご容赦を。なかなか忙しくて時間が取れませんが、AS/400関連のツールを順次このページに掲載する予定です。

まずはSENDM、次にZIPを、最後(年末くらい?)にPDF変換ツールを公開しようと考えています。

~~なお、内容についてメールをいただいても基本的にお返事できませんのでBBSに書き込んで下さい。~~

---

<font color="green">99/11/15</font>


[iSUC](http://www.uken.or.jp/isuc/)で配布された資料でつぶれて見えない部分がありましたので、 PDF(約1MB) にしました。しばらくここに置いておきますが、後日削除します。なお、無断転載および配布は禁止いたします。

<FONT color="#ff0000">(2000/06/24 削除しました)</FONT>

---

[back](./)
